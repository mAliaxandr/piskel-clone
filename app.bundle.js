!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=25)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(i=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),s=o.sources.map(function(t){return"/*# sourceURL=".concat(o.sourceRoot).concat(t," */")});return[n].concat(s).concat([r]).join("\n")}var i,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var i=0;i<t.length;i++){var a=t[i];null!=a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),e.push(a))}},e}},function(t,e,n){var o,r,s={},i=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),c=null,l=0,d=[],u=n(4);function h(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=s[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(y(o.parts[i],e))}else{var a=[];for(i=0;i<o.parts.length;i++)a.push(y(o.parts[i],e));s[o.id]={id:o.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var s=t[r],i=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};o[i]?o[i].parts.push(a):n.push(o[i]={id:i,parts:[a]})}return n}function m(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertAt.before,n);n.insertBefore(e,r)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return g(e,t.attrs),m(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,o,r,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var i=l++;n=c||(c=v(e)),o=x.bind(null,n,i,!1),r=x.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),m(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}.bind(null,n,e),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){f(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return h(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var i=n[r];(a=s[i.id]).refs--,o.push(a)}t&&h(p(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete s[a.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var s=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}},function(t,e,n){var o=n(3);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".tools-pen{\n  width: 35px;\n  height: 35px;\n  background-color: #555555;\n  border: 1px solid #000000;\n  text-align: center;\n  color: #FFFFFF;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n\n.tools-pen:hover{\n  background-color: #FFD700;\n  color: #000000;\n}\n\n.tools-current{\n  border: 1px solid #FFD700;\n}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:o+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){var o=n(6);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".tools-eraser{\n  width: 35px;\n  height: 35px;\n  background-color: #555555;\n  border: 1px solid #000000;\n  text-align: center;\n  color: #FFFFFF;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n\n.tools-eraser:hover{\n  background-color: #FFD700;\n  color: #000000;\n}\n\n.tools-current{\n  border: 1px solid #FFD700;\n}\n",""])},function(t,e,n){var o=n(8);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".tools{\n  width: 120px;\n  height: 100%;\n  /* border: 1px solid red ; */\n  /* font-size: 10px; */\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n",""])},function(t,e,n){var o=n(10);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".tools-colorSelect{\n  width: 35px;\n  height: 35px;\n  background-color: #555555;\n  border: 1px solid #000000;\n  text-align: center;\n  color: #FFFFFF;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n  position: relative;\n}\n\n.tools-primaryColor{\n  width: 16px;\n  height: 16px;\n  background-color: #000000;\n  border: 1px solid #808080;\n  z-index: 10;\n}\n\n.tools-secondaryColor{\n  width: 16px;\n  height: 16px;\n  background-color: red;\n  border: 1px solid #808080;\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n}\n\n.tools-colorsWrap{\n  width: 45px;\n  height: 12px;\n  background-color: #000000;\n  border: 1px solid #FFD700;\n  position: absolute;\n  bottom: 30px;\n  display: flex;\n  z-index: 10;\n}\n\n.tools-color-item{\n  width: 10px;\n  height: 10px;\n  background-color: white;\n  border: 1px solid #808080;\n}\n\n.tools-color-item:hover{\n  border: 1px solid #FFD700;\n}\n\n.selecting{\n  width: 20px;\n  height: 20px;\n  border: 1px solid #FFD700;\n  z-index: 20;\n}\n",""])},function(t,e,n){var o=n(12);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".frameManager{\n  width: 170px;\n  /* font-size: 5px; */\n  user-select: none;\n  overflow: auto;\n}\n\n.frameManager-btn_addNew{\n  width: 80px;\n  height: 40px;\n  margin: 0 auto;\n  margin-top: 5px;\n  border: 1px solid #000000;\n  /* font-size: 1.5em; */\n  user-select: none;\n}\n\n.frameManager-btn_addNew:hover{\n  border: 1px solid #FFD700;\n}\n",""])},function(t,e,n){var o=n(14);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".frame-item{\n  width: 100px;\n  height: 100px;\n  margin: 0 auto;\n  margin-top: 5px;\n  border: 1px solid #000000;\n  position: relative;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n\n.frame-current{\n  border: 1px solid #FFD700;\n}\n\n.frame-item_numberDiv{\n  width: 20px;\n  height: 20px;\n  background-color: #FFD700;\n  text-align: center;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n\n.frame-item_btnDeleteFrame{\n  width: 25px;\n  height: 25px;\n  background-color: #555555;\n  text-align: center;\n  color: #FFFFFF;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n\n.frame-item_btnDeleteFrame:hover{\n   background-color: #FFD700;\n   color: #000000;\n}\n\n.frame-item_btnDuplicateFrame{\n  width: 25px;\n  height: 25px;\n  background-color: #555555;\n  text-align: center;\n  color: #FFFFFF;\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n\n.frame-item_btnDuplicateFrame:hover{\n  background-color: #FFD700;\n  color: #000000;\n}\n\n.frame-item_canvas{\n  width: 85px;\n  height: 85px;\n  border: 1px solid #000000;\n}\n\n/* .display-none{\n  display: none;\n} */\n",""])},function(t,e,n){var o=n(16);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".canvas-wrapper{\n  width: 550px;\n  height: 100%;\n  /* border: 1px solid blueviolet; */\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n",""])},function(t,e,n){var o=n(18);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".canvas-item{\n  width: 450px;\n  height: 450px;\n  border: 1px solid #000000;\n}\n",""])},function(t,e,n){var o=n(20);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".preview-wrap{\n  width: 300px;\n  height: 300px;\n  /* border: 1px solid yellow; */\n  /* display: grid; */\n  justify-content: center;\n  position: relative;\n  /* font-size: 10px; */\n  z-index: 100;\n  /* align-content: center; */\n}\n\n.preview-wrap-fullscreen{\n  position: absolute;\n  width: 95%;\n  height: 95%;\n  background-color: #555555;\n  display: block;\n}\n\n.preview-btn-full-screen{\n  width: 30px;\n  height: 30px;\n  background-color: #555555;\n  text-align: center;\n  color: #FFFFFF;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n}\n",""])},function(t,e,n){var o=n(22);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".preview-canvas{\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 1px solid black;\r\n  margin-top: 10px;\r\n}\r\n",""])},function(t,e,n){var o=n(24);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"\nbody{\n  background-color: grey;\n  margin: 0;\n  padding: 0;\n}\n\n.wrapper{\n  width: 95%;\n  height: 90vh;\n  margin: 0 auto;\n  /* border: 1px solid greenyellow ; */\n  display: flex;\n}\n",""])},function(t,e,n){"use strict";n.r(e);n(2);class o{constructor(t){this.state=null,this.currentTool=t,this.toBeCurrent=()=>{if(this.currentTool.curTool="pen","pen"===this.currentTool.curTool){document.querySelectorAll(".tools-item").forEach(t=>{t.classList.remove("tools-current")}),document.querySelector(".tools-pen").classList.add("tools-current")}},this.add=()=>{const t=document.querySelector(".tools"),e=document.createElement("div");e.classList.add("tools-item"),e.classList.add("tools-pen"),e.innerHTML='<i class="fas fa-pen"></i>',t.appendChild(e),e.addEventListener("click",this.toBeCurrent),this.toBeCurrent()}}}n(5);class r{constructor(t){this.state=null,this.currentTool=t,this.toBeCurrent=()=>{if(this.currentTool.curTool="eraser","eraser"===this.currentTool.curTool){document.querySelectorAll(".tools-item").forEach(t=>{t.classList.remove("tools-current")}),document.querySelector(".tools-eraser").classList.add("tools-current")}},this.add=()=>{const t=document.querySelector(".tools"),e=document.createElement("div");e.classList.add("tools-item"),e.classList.add("tools-eraser"),e.addEventListener("click",this.toBeCurrent),e.innerHTML='<i class="fas fa-eraser"></i>',t.appendChild(e)}}}n(7),n(9);class s{constructor(t){this.currentTool=t,this.currentColorSecondary=t=>{const e=getComputedStyle(t.target);this.currentTool.secondaryColor=e.backgroundColor;const n=document.querySelector(".tools-secondaryColor");n.style.backgroundColor=e.backgroundColor,n.classList.remove("selecting");const o=document.querySelector(".tools-colorSelect"),r=document.querySelector(".tools-colorsWrap");o.removeChild(r),console.log("clor e-",t.target,e.backgroundColor,this.currentTool)},this.currentColorPrimary=t=>{const e=getComputedStyle(t.target);this.currentTool.primaryColor=e.backgroundColor;const n=document.querySelector(".tools-primaryColor");n.style.backgroundColor=e.backgroundColor,n.classList.remove("selecting");const o=document.querySelector(".tools-colorSelect"),r=document.querySelector(".tools-colorsWrap");o.removeChild(r),console.log("clor e-",t.target,e.backgroundColor,this.currentTool)},this.selectColorSecondary=()=>{const t=document.querySelector(".tools-colorSelect"),e=document.createElement("div");document.querySelector(".tools-secondaryColor").classList.add("selecting"),e.classList.add("tools-colorsWrap");const n=document.createElement("div");n.classList.add("tools-color-item"),n.style.backgroundColor="#FF0000",n.addEventListener("click",this.currentColorSecondary),e.appendChild(n);const o=document.createElement("div");o.classList.add("tools-color-item"),o.style.backgroundColor="#FFFF00",o.addEventListener("click",this.currentColorSecondary),e.appendChild(o);const r=document.createElement("div");r.classList.add("tools-color-item"),r.style.backgroundColor="#008000",r.addEventListener("click",this.currentColorSecondary),e.appendChild(r);const s=document.createElement("div");s.classList.add("tools-color-item"),s.style.backgroundColor="#FFA500",s.addEventListener("click",this.currentColorSecondary),e.appendChild(s),t.appendChild(e)},this.selectColorPrimary=()=>{const t=document.querySelector(".tools-colorSelect"),e=document.createElement("div");document.querySelector(".tools-primaryColor").classList.add("selecting"),e.classList.add("tools-colorsWrap");const n=document.createElement("div");n.classList.add("tools-color-item"),n.style.backgroundColor="#FF0000",n.addEventListener("click",this.currentColorPrimary),e.appendChild(n);const o=document.createElement("div");o.classList.add("tools-color-item"),o.style.backgroundColor="#FFFF00",o.addEventListener("click",this.currentColorPrimary),e.appendChild(o);const r=document.createElement("div");r.classList.add("tools-color-item"),r.style.backgroundColor="#008000",r.addEventListener("click",this.currentColorPrimary),e.appendChild(r);const s=document.createElement("div");s.classList.add("tools-color-item"),s.style.backgroundColor="#FFA500",s.addEventListener("click",this.currentColorPrimary),e.appendChild(s),t.appendChild(e)},this.add=()=>{const t=document.querySelector(".tools"),e=document.createElement("div");e.classList.add("tools-colorSelect"),t.appendChild(e);const n=document.createElement("div");n.classList.add("tools-primaryColor"),n.addEventListener("click",this.selectColorPrimary),e.appendChild(n);const o=document.createElement("div");o.classList.add("tools-secondaryColor"),o.addEventListener("click",this.selectColorSecondary),e.appendChild(o)}}}class i{constructor(){this.currentTool={curTool:null,primaryColor:"black",secondaryColor:"red"},this.add=()=>{const t=document.querySelector(".wrapper"),e=document.createElement("div");e.classList.add("tools"),t.appendChild(e),new o(this.currentTool).add(),new r(this.currentTool).add(),new s(this.currentTool).add()}}}n(11),n(13);class a{constructor(t){this.data=null,this.number=null,this.current=t||!0,this.link=null,this.coords=[],this.positionY=null,this.isMouseDown=!1,this.deltaY=null,this.mouseDown=t=>{this.isMouseDown=!0;const e=document.querySelector(".frame-current");this.deltaY=t.pageY-e.style.top,e.addEventListener("mousemove",this.mouseMove.bind(this)),e.addEventListener("pointerout",this.mouseUp.bind(this)),console.log("mouseDown ---",t.pageY,this.positionY)},this.mouseUp=()=>{document.querySelector(".frame-current").removeEventListener("mousemove",this.mouseMove.bind(this)),this.isMouseDown=!1,this.deltaY=null},this.mouseMove=t=>{if(!0===this.isMouseDown){const e=document.querySelector(".frame-current");if(e.style.top=t.pageY-this.deltaY+"px",console.log("moseMove Pos-Y ==",t.pageY,this.deltaY,e.style.top),t.pageY-this.deltaY>20){const t=this.data[this.number].coords,n=this.data[this.number+1].coords;this.data[this.number].coords=[],this.data[this.number+1].coords=[],n.forEach(t=>{this.data[this.number].coords.push(t)}),t.forEach(t=>{this.data[this.number+1].coords.push(t)}),this.toBeCurrent(),console.log(">>>>>>>>>>",e.style.top,this.data,t,n)}if(t.pageY-this.deltaY<-10){const t=this.data[this.number].coords,n=this.data[this.number-1].coords;this.data[this.number].coords=[],this.data[this.number-1].coords=[],n.forEach(t=>{this.data[this.number].coords.push(t)}),t.forEach(t=>{this.data[this.number-1].coords.push(t)}),this.toBeCurrent(),console.log("<<<<<<<<<<<<<<",e.style.top,this.data,t,n)}}},this.add=(t,e,n)=>{this.link=n,this.data=t,this.number=e;const o=document.querySelector(".frameManager"),r=document.createElement("div");r.classList.add("frame-item"),r.addEventListener("mousedown",this.toBeCurrent.bind(this)),r.addEventListener("mousedown",this.mouseDown.bind(this)),r.addEventListener("mouseup",this.mouseUp.bind(this)),o.appendChild(r),this.positionY=r.offsetTop;const s=document.createElement("div");s.classList.add("frame-item_numberDiv"),s.innerHTML=e+1,r.appendChild(s);const i=document.createElement("div");i.classList.add("frame-item_btnDeleteFrame"),i.innerHTML='<i class="far fa-trash-alt"></i>',i.addEventListener("mousedown",this.deleteFrame.bind(this)),r.appendChild(i);const a=document.createElement("div");a.classList.add("frame-item_btnDuplicateFrame"),a.innerHTML='<i class="far fa-copy"></i>',a.addEventListener("mousedown",this.toBeCurrent.bind(this)),a.addEventListener("mousedown",this.link.duplicateFrame.bind(n)),r.appendChild(a);const c=document.createElement("canvas");c.width=450,c.height=450,c.classList.add("frame-item_canvas","canvas"+this.number),r.appendChild(c),!0===this.current&&r.classList.add("frame-current")}}toBeCurrent(){this.data.map((t,e)=>(!1!==t.current&&(this.data[e].current=!1),this.data[this.number].current=!0,this.link.render(),console.log("toBeCurrent",this.number),t)),this.data.canvasItemLink.clearCanvas(),this.data.canvasItemLink.viewCurrentFrameInCanvas()}deleteFrame(){this.data.splice(this.number,1),localStorage.clear();const t=document.querySelector(".frameManager"),e=document.querySelector(".frameManager-btn_addNew");t.innerHTML="",t.appendChild(e),this.link.render(),console.log("deleteFrame-item",this)}viewCurrentFrameInFrameCanv(t){const e=".canvas"+t;this.data[t].coords.map(t=>(t.drawFrame(e),t))}}class c{constructor(t){this.data=t}render(){const t=document.querySelector(".frameManager");t.innerHTML="";const e=document.createElement("div");e.classList.add("frameManager-btn_addNew"),e.innerHTML="+ Add new frame",e.addEventListener("click",this.addFrame.bind(this)),t.appendChild(e),this.data.map((t,e)=>(this.data[e].number=e,t.add(this.data,e,this),t.viewCurrentFrameInFrameCanv(e),t))}duplicateFrame(){const t=new a;this.data.forEach(e=>{!0===e.current&&e.coords.forEach(e=>{t.coords.push(e)})}),this.data.push(t)}addFrame(){this.data.canvasItemLink&&this.data.canvasItemLink.clearCanvas(),this.data.map((t,e)=>(!1!==t.current&&(this.data[e].current=!1),t));const t=new a;this.data.push(t),this.render.bind(this),this.render()}add(){const t=document.querySelector(".wrapper"),e=document.createElement("div");e.classList.add("frameManager"),t.appendChild(e);const n=document.createElement("div");n.classList.add("frameManager-btn_addNew"),n.innerHTML="+ Add new frame",n.addEventListener("click",this.addFrame.bind(this)),e.appendChild(n),this.addFrame()}}n(15),n(17);class l{constructor(t,e,n,o,r){this.color=t,this.x=e,this.y=n,this.width=o,this.height=r,this.number=null,this.draw=()=>{const t=document.querySelector(".canvas-item").getContext("2d");t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)},this.drawFrame=t=>{const e=document.querySelector(t).getContext("2d");e.fillStyle=this.color,e.fillRect(this.x,this.y,this.width,this.height)},this.drawPreview=()=>{const t=document.querySelector(".preview-canvas").getContext("2d");t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)}}}class d{constructor(t,e){this.data=t,this.currentTool=e,this.isMouseDown=!1,this.color=this.currentTool.primaryColor,this.deltaX=null,this.deltaY=null,this.width=450,this.height=450,this.counPixel=32,this.widthPixel=this.width/this.counPixel,this.map=[],this.add=()=>{const t=document.querySelector(".canvas-wrapper"),e=document.createElement("canvas");e.classList.add("canvas-item"),e.width=this.width,e.height=this.height,t.appendChild(e),e.addEventListener("mousedown",this.mouseDown.bind(this)),e.addEventListener("mouseup",this.mouseUp.bind(this),!1),e.addEventListener("mousemove",this.mouseMove.bind(this)),e.addEventListener("contextmenu",t=>t.preventDefault())},this.clearCanvas=()=>{const t=document.querySelector(".canvas-item"),e=t.getContext("2d");e.fillStyle="#808080",e.fillRect(0,0,t.width,t.height),e.beginPath(),e.fillStyle="black",console.log("clearCanvas")}}viewCurrentFrameInCanvas(){this.clearCanvas(),this.data.map(t=>(!0===t.current&&t.coords.map(t=>(t.draw(),t)),t))}pushCoords(t){this.data.map(e=>(!0===e.current&&(e.coords.push(t),this.data[0].link.render()),e))}mouseDown(t){let e=null;1===t.buttons&&(e=this.currentTool.primaryColor),2===t.buttons&&(e=this.currentTool.secondaryColor);const n=document.querySelector(".canvas-item");n.getContext("2d").beginPath(),this.isMouseDown=!0;const o=Math.floor((t.clientX-n.offsetLeft)/this.widthPixel)*this.widthPixel,r=Math.floor((t.clientY-n.offsetTop)/this.widthPixel)*this.widthPixel;if(this.isMouseDown&&"pen"===this.currentTool.curTool){const t=new l(e,o,r,n.width/32,n.height/32);this.pushCoords(t),t.draw()}this.isMouseDown&&"eraser"===this.currentTool.curTool&&this.data.forEach(t=>{if(!0===t.current){console.log("item current -- ==========",t.number,this.data[t.number]);let e=0;this.data[t.number].coords.forEach(t=>{e+=1,o===t.x&&r===t.y&&(t.color="#808080",this.viewCurrentFrameInCanvas(),e=0)})}})}mouseUp(){this.isMouseDown=!1,document.querySelector(".canvas-item").getContext("2d").beginPath()}mouseMove(t){let e=null;1===t.buttons&&(e=this.currentTool.primaryColor),2===t.button&&(e=this.currentTool.secondaryColor);const n=document.querySelector(".canvas-item"),o=Math.floor((t.clientX-n.offsetLeft)/this.widthPixel)*this.widthPixel,r=Math.floor((t.clientY-n.offsetTop)/this.widthPixel)*this.widthPixel;if(this.isMouseDown&&"pen"===this.currentTool.curTool){const t=new l(e,o,r,n.width/32,n.height/32);this.pushCoords(t),t.draw()}this.isMouseDown&&"eraser"===this.currentTool.curTool&&(this.data.forEach(t=>{if(!0===t.current){console.log("item current -- ==========",t.number,this.data[t.number]);let e=0;this.data[t.number].coords.forEach(t=>{e+=1,o===t.x&&r===t.y&&(t.color="#808080",this.viewCurrentFrameInCanvas(),e=0)})}}),this.data[0].link.render())}}class u{constructor(t,e){this.data=t,this.currentTool=e}add(){const t=document.querySelector(".wrapper"),e=document.createElement("div");e.classList.add("canvas-wrapper"),t.appendChild(e);const n=new d(this.data,this.currentTool);this.data.canvasItemLink=n,n.add()}}n(19),n(21);class h{constructor(t){this.data=t}clear(){const t=document.querySelector(".preview-canvas"),e=t.getContext("2d");e.fillStyle="#808080",e.fillRect(0,0,t.width,t.height),e.beginPath(),e.fillStyle="black"}play(t){this.clear(),this.data[t].coords&&this.data[t].coords.map(t=>(t.drawPreview(),console.log("replay",t),t))}add(){const t=document.querySelector(".preview-wrap"),e=document.createElement("canvas");e.width=450,e.height=450,e.classList.add("preview-canvas"),t.appendChild(e)}}class p{constructor(t){this.data=t}fullscreen(){document.querySelector(".preview-wrap").classList.toggle("preview-wrap-fullscreen")}add(){const t=document.querySelector(".wrapper"),e=document.createElement("div");e.classList.add("preview-wrap"),t.appendChild(e);const n=document.createElement("div");n.classList.add("preview-btn-full-screen"),n.innerHTML='<i class="fas fa-compress"></i>',n.addEventListener("click",this.fullscreen),e.appendChild(n);const o=new h(this.data);o.add();let r=0;setInterval(()=>{r===this.data.length&&(r=0),o.play(r),r+=1},300)}}n(23);class m{constructor(){this.data=[],this.currentTool=null}render(){const t=document.querySelector("body"),e=document.createElement("div");e.classList.add("wrapper"),t.appendChild(e);const n=new i;n.add(),this.currentTool=n.currentTool;const o=new c(this.data);o.add(),new u(o.data,this.currentTool).add(),new p(this.data).add()}}(new class{constructor(){this.state=null}start(){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href="https://use.fontawesome.com/releases/v5.8.2/css/all.css",t.integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay",t.crossOrigin="anonymus",document.head.appendChild(t),(new m).render()}}).start()}]);
//# sourceMappingURL=app.bundle.js.map